<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Introductory Programming in Python: Lists</title>
	<link rel='stylesheet' type='text/css' href='style.css' />
	<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
	<script src="animation.js" type="text/javascript">
	</script>
</head>

<body onload="animate_loop()">
	<div class="page">

		<h1>Introductory Programming in Python: Lesson 8<br />
		Lists</h1>

		<div class="centered">
			[<a href="while_loops.html">Prev: Flow Control: Conditional Loops</a>]&nbsp;[<a href="index.html">Course Outline</a>]&nbsp;[<a href="tuples.html">Next: Tuples</a>]
		</div>

		<h2>The Necessity of Lists</h2>

		<p>Let us for the sake of originality work on a new problem.</p>

		<blockquote class='problem'>

			A lecturer for an introductory programming course wants to record
			some information about his students. He wants to keep a record of
			each student's name, their primary field of study, and a brief
			description of their current research project. He would like to be
			able to print this out in a nicely formatted way. His class has 19
			students.

		</blockquote>

		<p>For each student we need to record their name, field of study, and a
		description of their research project. This means three values we need
		to store for each student, or 38 variables in total. Surely there's a
		better way. There is, and python yet again provides us with the perfect
		tool for job, <a class="doclink"
		href="http://olympiad.cs.uct.ac.za/docs/python-docs-2.6/library/stdtypes.html#typesseq">the list</a>!</p>

		<p>A list is a <strong>type</strong> of variable. To create a new
		variable of type list in python simply assign a variable to a list.
		Lists are formed using square brackets surrounding a comma separated
		sequence of the elements of the list.  Example:</p>

		<pre class='listing'>
&gt;&gt;&gt; mylist = [1, 2, 3]
&gt;&gt;&gt; anotherlist = ["Alice", "Bob", "Carl", "Mallory"]
&gt;&gt;&gt; mixed = ["a string", 143, [341]]
&gt;&gt;&gt; empty = []
&gt;&gt;&gt;
</pre>

		<ul>

			<li>Lists contain elements, e.g. 'mylist' contains three elements,
			namely 1, 2, and 3.</li>

			<li>Lists have length, being the number of elements they contain,
			e.g. 'mylist' has length 3, 'anotherlist' has length 4</li>

			<li>We can determine the length of a list using python's built in
			<a class="doclink"
			href="http://olympiad.cs.uct.ac.za/docs/python-docs-2.6/library/functions.html#len">len
			function</a>

<pre class='listing'>
&gt;&gt;&gt; len([1, 2, 3])
3
</pre>

			</li>

			<li>The elements of a list can be expressions of any type
			(including another list) and different elements in the same list
			can be of different types, e.g. 'mixed' has three elements; the
			first element is a string ("a string"), the second element is an
			integer (143), and the third element is another list ([341]).</li>

			<li>Lists can contain no elements, in which case they are known as
			empty, e.g. 'empty' contains no elements, but is still a list!</li>

			<li>Individual elements of a list are indexed according to their
			position in the list. The first position has an index of 0, the
			second position an index of 1, etc...</li>

			<li>We can access a specific element in a list by using a special
			operator in an expression following the format
			<code>list[index]</code>. This expression evaluates to the element
			in the index'th position of the list. e.g. <code>mylist[0]</code>
			is 1, <code>mylist[1]</code> is 2, <code>mixed[2]</code> is
			[341].</li>

		</ul>

		<p>Now that we know about lists, we could use a list to represent the
		students names, another to represent their fields of study, and a third
		to represent their project descriptions. So we might have</p>

		<pre class='listing'>
#a small program to record info about students

name = ["Alice", "Bob", "Carl", "Mallory"]
field = ["Astronomy", "Biochemistry", "Cancer Research", "Maths"]
description = [
    "The search for black holes",
    "Engineering a better yeast for brewing beer",
    "Better pain management in palliative care",
    "Finding a polynomial time solution for NP-complete problems"
]
</pre>

		<h2>Lists in Detail</h2>

		<p>We've already learnt a little about about lists, but there are many
		more features to <a class="doclink"
		href="http://docs.python.org/lib/typesseq.html">lists</a>, and sadly a
		few intricacies we need to know about. Firstly let's deal more
		explicitly with the operations that can be performed on lists. If both
		'a' and 'b' are lists, 'v' is any expression, and 'i', 'j', and 'k' are
		integers then</p>

		<ul>

			<li><code>a + b</code> concatenates two lists. It returns a new list that contains all the elements of list 'a' and then list 'b'.</li>

			<li><code>a * i</code> repeats a list. It returns a new list with that has all the elements of 'a' but repeated 'i' times.</li>

			<li><code>a[i]</code> retrieves the 'i'th element of
			'a'.</li>

			<li><code>a[i:j:k]</code> slices the list. It returns a copy of the list 'a'
			from its 'i'th element to its (j-1)'th element, taking only every
			k'th element. If 'k' is omitted, every element in the range is
			taken. If 'i' or 'j' are omitted they default to beginning of list
			and end of list respectively.</li>

			<li><code>a[:i]</code> yields a slice from the beginning of 'a' to
			the (i-1)'th element of 'a'.</li>

			<li><code>a[i:]</code> yields a slice from the 'i'th element to the
			end of the list.</li>

			<li><code>a[:]</code> yields a slice of the entire list. More
			importantly it yields a <strong>copy</strong> of the list!</li>

		</ul>

		<p>Note that theses operators each return newly created lists, and do
		not modify the operand lists in any way. For completeness sake, here
		are examples ...</p>

		<pre class='listing'>
&gt;&gt;&gt; a = [1,2,3]
&gt;&gt;&gt; a+[4,5]
[1, 2, 3, 4, 5]
&gt;&gt;&gt;
&gt;&gt;&gt; [4,5]+a
[4, 5, 1, 2, 3]
</pre>

		<pre class='listing'>
&gt;&gt;&gt; a*2
[1, 2, 3, 1, 2, 3]
&gt;&gt;&gt;
&gt;&gt;&gt; [1]*2+2*[2]
[1, 1, 2, 2]
&gt;&gt;&gt;
&gt;&gt;&gt; [[1]*2,[2]*2]
[[1, 1], [2, 2]]
&gt;&gt;&gt;
&gt;&gt;&gt; [1]*2*3
[1, 1, 1, 1, 1, 1]
&gt;&gt;&gt;
</pre>

		<pre class='listing'>
&gt;&gt;&gt; a[0]
1
&gt;&gt;&gt; a[1:3]
[2, 3]
&gt;&gt;&gt; a += [4, 5]
&gt;&gt;&gt; a[0:6:2]
[1, 3, 5]
&gt;&gt;&gt; a[:3]
[1, 2, 3]
&gt;&gt;&gt; a[3:]
[4, 5]
&gt;&gt;&gt; a[:]
[1, 2, 3, 4, 5]
&gt;&gt;&gt;
</pre>

		<h2>Assignment to elements of a list</h2>

		<p>Lists can have their elements changed.
		This sounds a little weird, but consider it this way. The value of the
		integer 1 cannot change. We can change the value indicated by a
		variable <em>i</em> (which might be 1) to something else, but this doesn't
		change the value of the integer 1. Lists are different, because the
		value reflects a container of multiple other values, and we can remove,
		add, or replace those inner values, i.e. list elements. This changes
		the value of the list itself. Practically, this means we can assign
		values to specific elements of a list.<p>

		<pre class='listing'>
&gt;&gt;&gt; a = [1, 2, 3]
&gt;&gt;&gt; a[0]
1
&gt;&gt;&gt; a[0] = 0
&gt;&gt;&gt; a
[0, 2, 3]
&gt;&gt;&gt; 
</pre>

		<p>Not only can we assign individual elements of a list a new value,
		but we can assign whole slices new values. The funky thing is, we can
		replace a specified slice of a list with a list of any length,
		effectively extending or shrinking the list in the process.<p>

		<pre class='listing'>
&gt;&gt;&gt; a = [1, 2, 5]
&gt;&gt;&gt; a[1:2] = [3]
&gt;&gt;&gt; a
[1, 3, 5]
&gt;&gt;&gt; a[1:2] = [2, 3, 4]
&gt;&gt;&gt; a
[1, 2, 3, 4, 5]
&gt;&gt;&gt; a[1:4] = [3]
&gt;&gt;&gt; a
[1, 3, 5]
&gt;&gt;&gt; 
</pre>

		<h2>Comparing Lists</h2>

		<p>The comparison of lists to other lists, and other types is also
		slightly different to the comparison of simple types (int, float,
		bool). Specifically:</p>

		<ul>

			<li><code>a == b</code> checks two lists are the same. It returns true if all the elements of 'a' are the same as the elements of 'b'.</li>

			<li><code>a &lt; b</code> yields Less Than. Note that lists are
			compared in sequence order, meaning that 'a' is less than 'b' if
			'a's first element is less than 'b's first element. If 'a's first
			element and 'b's first element are equal, the second elements are
			checked, etc...</li>

			<li><code>v in a</code> is True only if the list a contains an
			element whose value is that of the expression 'v'.</li>

			<li><code>a is b</code> is True only if 'a' and 'b' are the same
			list.</li>

		</ul>

		<p>Note the final point, namely the 'is' operator. This is one of those
		intricacies we mentioned earlier. The contents of a list can be
		changed. This is not true of an integer for example. One cannot change
		the contents of the integer 1. This introduces a slight complexity. If
		'a' is 1 and 'b' is 1 then 'a' and 'b' are the same. But if <code>a =
		[1]</code>, and <code>b = [1]</code>, they <strong>are</strong> not the
		same. They may be equal, but are not the same list. They are different
		lists. Again, examples to the rescue</p>

		<pre class='listing'>
&gt;&gt;&gt; a = [1,2]
&gt;&gt;&gt; b = [1,2]
&gt;&gt;&gt; a == b
True
&gt;&gt;&gt; a is b
False
&gt;&gt;&gt;
&gt;&gt;&gt; b[0] = 3
&gt;&gt;&gt; b
[3, 2]
&gt;&gt;&gt; a
[1, 2]
&gt;&gt;&gt;
</pre>

		<pre class='listing'>
&gt;&gt;&gt; a = [1,2]
&gt;&gt;&gt; b = a
&gt;&gt;&gt; a == b
True
&gt;&gt;&gt; a is b
True
&gt;&gt;&gt; b[0] = 3
&gt;&gt;&gt; b
[3, 2]
&gt;&gt;&gt; a
[3, 2]
&gt;&gt;&gt;
</pre>

		<p>Note how the second line of the second example violates our notion
		of assignment, which was: The assignment statement assigns the value of
		the expression on the right to the variable on the left. But clearly,
		we are not just assigning the value ([1,2]), because later when we
		change the first element of 'b' to 3, we also appear to change the
		first element of 'a'. Weird. There is a technical explanation for this,
		but is really not worth knowing at this point as it is more likely to
		confuse than clarify. What this does mean however is that we need to be
		aware of the special case of assignment to a single variable of
		types that can be changed!</p>

		<div class="summary">

			When, in an assignment statement <code>a = b</code>, if 'b' is of
			<strong>mutable type</strong>(a type that can have its values 
			changed), the assignment statement
			<strong>makes 'a' a synonym of 'b'</strong>, i.e. they become
			different names for the same variable.

		</div>

		<p>Also note how we assigned a value to an element of the list,
		changing some of it's contents. Python is quite advanced in terms of
		how it can handle assignments involving lists, so let's explore its
		features a bit. If 'a' is the list [1, 2, 3], 'b' is some expression of
		any value, and 'l' is some expression of type list.</p>

		<ul>

			<li><code>a[0] = b</code> assigns the value of 'b' to the 0'th
			element of 'a'. (The mutable type special case applies)</li>

			<li><code>a[0:2] = l</code> removes the slice range specified on
			the left and replaces the removed elements with the contents of
			'l'. This does <strong>not</strong> make 'a' and 'l' synonyms.</li>

		</ul>

		<p>If we wish to make a copy of a list that is not a synonym, we assign
		to the slice of the full list, e.g. <code>a = b[:]</code> (where 'b' is
		a list)</p>

		<h2>Lists as Objects</h2>

		<p>In addition to the operators that can act on lists, list are
		objects. <strong>Object</strong> is a term used in computer science to
		refer specifically to something which has both code and data associated
		with it directly. Objects will be covered in far greater detail later
		on in the course, but in the meanwhile we need to be aware of some
		syntactical features they provide.</p>

		<p>Objects have code associated with them in functions called
		<strong>methods</strong>. Methods are bound to every variable of an
		object type individually, meaning if two different variables, 'a' and
		'b', are of the same type which is an object type, then 'a' and 'b'
		both have the same set of methods but their methods are distinct from
		one another. When 'a' calls a method, that method acts only on 'a', and
		when 'b' calls that same method, the method will act only on 'b'. Read
		it again, it makes sense. In fact examples will prove it's quite
		intuitive.</p>
		
<pre class="listing">
&gt;&gt;&gt; a = [1, 2, 3]
&gt;&gt;&gt; b = ["A", "B", "C"]
&gt;&gt;&gt; a.index(2)
1
&gt;&gt;&gt; b.index(2)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ValueError: 2 is not in list
&gt;&gt;&gt; b.index("C")
2
</pre>

		<p>Looking at the examples we notice there is some new notation, of the
		form <code>&lt;list&gt;.&lt;method&gt;()</code>. This 'dot notation'
		indicates that we are obtaining a method of the list object (called
		index in the case of the example), and our use of brackets indicates we
		wish to call it.</p>

		<div class="summary">

			Methods are simply functions associated with a particular type.

		</div>

		<p>Note that <code>a.index(2)</code> and <code>b.index(2)</code> return
		different results. In fact the 'b.index' case produces an error.
		Obviously they are doing different things, despite being given the same
		parameter (2). What the index method does is search for a given value
		in the elements of <strong>its</strong> list. When called using
		'a.index' its list is 'a', when called using 'b.index' its list is 'b'.
		Since the value 2 is an element of the list 'a', index returns its
		index position (1), meaning it can be found in the second position in
		the list. But the value 2 is not an element of the list 'b', hence
		index will cause an error.</p>

		<p>That being said, let's round off our knowledge of lists by
		enumerating the list methods that will be useful to us.</p>

		<ul>

			<li>

				<code>&lt;list&gt;.append(&lt;expression&gt;)</code><br />
				Appends the value of &lt;expression&gt; to the end of
				&lt;list&gt;.

				<pre class='listing'>
&gt;&gt;&gt; a = []
&gt;&gt;&gt; a.append('one')
&gt;&gt;&gt; a
['one']
&gt;&gt;&gt;
</pre>
			</li>

			<li>

				<code>&lt;list&gt;.count(&lt;expression&gt;)</code><br />
				Returns the number of elements in &lt;list&gt; with same value
				as that of &lt;expression&gt;.

				<pre class='listing'>
&gt;&gt;&gt; a = ['a', 'c', 'g', 't', 't', 'a']
&gt;&gt;&gt; a.count('a')
2
&gt;&gt;&gt;
</pre>
			</li>

			<li>

				<code>&lt;list&gt;.index(&lt;expression&gt;)</code><br />
				Returns the index of the first element in &lt;list&gt; that has
				the same value as &lt;expression&gt;.

				<pre class='listing'>
&gt;&gt;&gt; a = ['a', 'c', 'g', 't', 't', 'a']
&gt;&gt;&gt; a.index('t')
3
&gt;&gt;&gt;
</pre>
			</li>

			<li>

				<code>&lt;list&gt;.insert(&lt;index expression&gt;, &lt;object
				expression&gt;)</code><br /> Inserts the value of &lt;object
				expression&gt; <strong>before</strong> the element at the
				position indicated by &lt;index expression&gt;.

				<pre class='listing'>
&gt;&gt;&gt; a = ['a', 'c', 'g', 't', 't', 'a']
&gt;&gt;&gt; a.insert(2,'newitem')
&gt;&gt;&gt; a
['a', 'c', 'newitem', 'g', 't', 't', 'a']
&gt;&gt;&gt;
</pre>
			</li>

			<li>

				<code>&lt;list&gt;.pop()</code><br /> Removes the last element
				from the end of the list, and returns it's value.

				<pre class='listing'>
&gt;&gt;&gt; a = ['a', 'c', 'g', 't', 't', 'a']
&gt;&gt;&gt; a.pop()
'a'
&gt;&gt;&gt; a
['a', 'c', 'g', 't', 't']
&gt;&gt;&gt;
</pre>
			</li>

			<li>

				<code>&lt;list&gt;.remove(&lt;expression&gt;)</code><br />
				Removes the first element in &lt;list&gt; that has the same
				value as &lt;expression&gt;.

				<pre class='listing'>
&gt;&gt;&gt; a = ['a', 'c', 'newitem', 'g', 't', 't', 'a']
&gt;&gt;&gt; a.remove('newitem')
&gt;&gt;&gt; a
['a', 'c', 'g', 't', 't', 'a']
&gt;&gt;&gt;
</pre>
			</li>

			<li>

				<code>&lt;list&gt;.reverse()</code><br /> Reverses the order of
				elements in &lt;list&gt;.

				<pre class='listing'>
&gt;&gt;&gt; a = ['alpha', 'beta', 'gamma', 'delta']
&gt;&gt;&gt; a.reverse()
&gt;&gt;&gt; a
['delta', 'gamma', 'beta', 'alpha']
&gt;&gt;&gt;
</pre>
			</li>

			<li>

				<code>&lt;list&gt;.sort()</code><br /> Sorts the elements of
				&lt;list&gt;.

				<pre class='listing'>
&gt;&gt;&gt; a = ['delta', 'gamma', 'beta', 'alpha']
&gt;&gt;&gt; a.sort()
&gt;&gt;&gt; a
['alpha', 'beta', 'delta', 'gamma']
&gt;&gt;&gt;
</pre>
			</li>

		</ul>

<!--
    <h2>List Comprehensions</h2>

		<p>A list comprehension is a special syntactic element of the python
		language that allows rapid construction of a new list from the elements
		of an old list. They are a syntactic contraction of the pattern:</p>

<pre class='listing'>
new_list = []
for element in old_list:
    new_list.append(&lt;something done with element&gt;)
</pre>

		<p>List comprehensions have the following basic syntax:</p>

<pre class='definition'>
[&lt;expression of <em>e</em>&gt; for <em>e</em> in &lt;old_list&gt;]
</pre>
		<p>The list comprehension is an expression itself which evaluates as a
		list containing the results of the expression of <em>e</em> as each
		element applied to the <em>e</em>'s of the old list. Example time:</p>

<pre class='listing'>
&gt;&gt;&gt; [e for e in [2, 4, 5]]
[2, 4, 5]
&gt;&gt;&gt; [2*e for e in [2, 4, 5]]
[4, 8, 10]
&gt;&gt;&gt; [e*e for e in [2, 4, 5]]
[4, 16, 25]
&gt;&gt;&gt; [0 for e in [2, 4, 5]]
[0, 0, 0]
&gt;&gt;&gt; dwarfs = [
... 'Happy',
... 'Grumpy',
... 'Sleepy',
... 'Sneezy',
... 'Doc',
... 'Bashful',
... 'Dopey']
&gt;&gt;&gt; [n.startswith('S') for n in dwarfs]
[False, False, True, True, False, False, False]
&gt;&gt;&gt; [n.endswith('y') for n in dwarfs]
[True, True, True, True, False, False, True]
&gt;&gt;&gt; [[i]*3 for i in range(3)]
[[0, 0, 0], [1, 1, 1], [2, 2, 2]]
</pre>

		<p>Additionally we can select which elements we want to bring in from
		our old list into our new one using a filter clause.<p>

<pre class='definition'>
[&lt;expression of <em>e</em>&gt; for <em>e</em> in &lt;old_list&gt; if &lt;some other expression of <em>e</em>&gt;]
</pre>
		
		<p>Using a filter clause our new list may not have as many elements as
		out old list. Let's get only dwarfs names if they start with 'S':</p>

<pre class='listing'>
>>> [n for n in dwarfs if n.startswith('S')]
['Sleepy', 'Sneezy']
</pre>
		
    <p>How cool is this?</p>
-->

		<h2>Exercises</h2>

		<p>Given the list <code>l = ['There', 'are', 9000000, 'bicycles', 'in', 'Beijing']</code></p>
		<ol>

			<li>How many elements does the list have? How would one find this
			out programatically?</li>

			<li>What is the index of the non-string element?</li>

			<li>What is the output of <code>print(l[1:4])</code>?</li>

			<li>What is the value of <code>[1, 3] + [2, 4]</code>?</li>
			
			<li>What is the value of <code>[1, 3] + [[2, 4]]</code>?</li>

			<li>What is the difference between appending a value to a list and
			adding the same value within its own list using the concatenation
			operator?</li>

			<li>What is the slice notation to extract the word 'mickles' from
			the <strong>string</strong> 'How many mickles are there in a
			muckle?'</li>

<!--
			<li>Write a list comprehension that produces a list of 3 lists of
			length 3, where	each inner list starts with an integer one greater
			than the start of the previous list, and the first list starts at
			zero.</li>

			<li>Write a list comprehension that contains a two element list for
			each letter of the alphabet, which contains as its first element,
			the letter of the alphabet, and its second element a boolean value
			representing whether any of the dwarf names start with that
			letter.</li>

			<li>Modify your answer to question 6 to contain the number of dwarf
			names beginning with each letter, instead of simply True or False.
			</li>
-->

			<li>Write a program that outputs the position of every 't' in the
			list ['a', 'c', 'g', 't', 't', 'a', 't']. Use the index method,
			don't do it manually.</li>

			<li>Write a program that asks the user to enter a sequence of up to
			5 x:y coordinates with both x and y in the range 0 to 4, ending
			their sequence entry by providing a blank line for the x
			coordinate. Then display a five by five grid of '#' characters,
			with the points in the grid entered by the user left blank. Assume
			x increases from left to right, and y increases from top to bottom.
			Example input/output is given ...
				
				<pre class='listing'>Coordinates range from 0 to 4!
Please enter pair of coordinates (x:y), leave x blank to terminate sequence.
X&gt; 3
Y&gt; 3
Please enter pair of coordinates (x:y), leave x blank to terminate sequence.
X&gt; 4
Y&gt; 1
Please enter pair of coordinates (x:y), leave x blank to terminate sequence.
X&gt; 1
Y&gt; 4
Please enter pair of coordinates (x:y), leave x blank to terminate sequence.
X&gt;
#####
#### 
#####
### #
# ###
</pre>

			</li>

		</ol>
		
		<div class="centered">
			[<a href="while_loops.html">Prev: Flow Control: Conditional Loops</a>]&nbsp;[<a href="index.html">Course Outline</a>]&nbsp;[<a href="tuples.html">Next: Tuples</a>]
		</div>
	</div>

	<div class="pagefooter">
		Copyright &copy; James Dominy 2007-2008; Released under the <a href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License</a><br />
		<a href="intropython.tar.gz">Download the tarball</a>
	</div>
</body>
</html>
